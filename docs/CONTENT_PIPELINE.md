# Pipeline контента

## 1. Черновик

- Создать материал в редакторе (`/news/editor`).
- Экспортировать `.draft.json` — название формата: `<date>-<slug>.draft.json`.
- Сохранить файл в `src/content/news/drafts/` (директория создаётся автоматически).
- Обложку загрузить через редактор (файл попадёт в секцию `assets` черновика).
- Inline-изображения добавить через медиатеку (каждый файл сохраняется как `asset.kind = "inline"`).

## 2. Подготовка публикации

- Выполнить `npm run content:sync`:
  - генерация MDX (`src/content/news/<slug>.mdx`),
  - автоматическое сохранение всех ассетов в `public/news-assets/<slug>/`,
  - пересборка `index.json`.
- Проверить теги (строчные, латиницей, без пробелов).
- При необходимости отредактировать сгенерированный MDX вручную.
- Для повторного редактирования можно загрузить существующий черновик из раздела «Редактировать существующую новость».

## 3. Ревью

- Проверить орфографию и доступность.
- Пройтись по чек-листу: заголовок, описание, дата, cover.

## 4. Публикация

- После генерации статических файлов запустить деплой (см. `DEPLOY.md`).
- Зафиксировать изменения в документации и changelog.

## TODO

- Добавить поддержку блоков-галерей и метаданных к изображениям в `content:sync`.
- Формализовать naming-конвенции для изображений (cover, inline, hero).
