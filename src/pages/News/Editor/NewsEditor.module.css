.page {
  display: grid;
  gap: var(--space-6);
}

.header {
  display: grid;
  gap: var(--space-2);
}

.header h1 {
  font-size: var(--fs-2xl);
}

.header p {
  color: var(--color-muted);
}

.editingNote {
  padding: var(--space-3);
  background: var(--color-surface-secondary);
  border-radius: var(--radius-md);
  border-left: 3px solid var(--color-accent);
  font-size: var(--fs-sm);
}

.loadMessage {
  margin-top: var(--space-2);
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-sm);
  font-size: var(--fs-sm);
}

.loadMessageSuccess {
  background: rgba(52, 211, 153, 0.1);
  color: #34d399;
  border: 1px solid rgba(52, 211, 153, 0.3);
}

.loadMessageError {
  background: rgba(248, 113, 113, 0.1);
  color: #f87171;
  border: 1px solid rgba(248, 113, 113, 0.3);
}

.meta {
  display: grid;
  gap: var(--space-3);
  padding: var(--space-4);
  border-radius: var(--radius-lg);
  background: var(--color-surface);
  border: 1px solid var(--color-border);
}

.inlineFields {
  display: grid;
  gap: var(--space-3);
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
}

.coverControls {
  display: grid;
  gap: var(--space-2);
  align-items: flex-start;
}

.coverControls input[type="file"] {
  color: var(--color-muted);
}

.coverPreview {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--fs-sm);
}

.coverName {
  font-weight: 600;
}

.coverHint {
  font-size: var(--fs-xs);
  color: var(--color-muted);
}

.existing {
  display: grid;
  gap: var(--space-3);
  padding: var(--space-4);
  border-radius: var(--radius-lg);
  background: var(--color-surface);
  border: 1px solid var(--color-border);
}

.existingControls {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  align-items: center;
}

.existingControls select {
  min-width: 220px;
  padding: var(--space-2);
  border-radius: var(--radius-sm);
  border: 1px solid var(--color-border);
  background: rgba(255, 255, 255, 0.02);
  color: var(--color-fg);
  font: inherit;
}

.existingControls select:focus-visible {
  border-color: var(--color-accent);
}

.loadMessage {
  font-size: var(--fs-xs);
  color: var(--color-muted);
}

.loadMessageSuccess {
  color: var(--color-success);
}

.loadMessageError {
  color: var(--color-danger);
}

.field {
  display: grid;
  gap: var(--space-1);
}

.field label {
  font-size: var(--fs-xs);
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: var(--color-muted);
}

.field input,
.field textarea {
  width: 100%;
  padding: var(--space-3);
  border-radius: var(--radius-sm);
  border: 1px solid var(--color-border);
  background: rgba(255, 255, 255, 0.02);
  color: var(--color-fg);
  font: inherit;
  resize: vertical;
}

.field input:focus-visible,
.field textarea:focus-visible {
  border-color: var(--color-accent);
}

.media {
  display: grid;
  gap: var(--space-3);
  padding: var(--space-4);
  border-radius: var(--radius-lg);
  background: var(--color-surface);
  border: 1px solid var(--color-border);
}

.mediaHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-3);
}

.uploadButton {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-sm);
  border: 1px dashed var(--color-border);
  font-size: var(--fs-xs);
  letter-spacing: 0.12em;
  text-transform: uppercase;
  cursor: pointer;
  transition:
    border-color var(--transition-base),
    color var(--transition-base);
}

.uploadButton:hover,
.uploadButton:focus-visible {
  border-color: var(--color-accent);
  color: var(--color-accent);
}

.uploadButton input {
  position: absolute;
  inset: 0;
  opacity: 0;
  cursor: pointer;
}

.mediaHint {
  font-size: var(--fs-sm);
  color: var(--color-muted);
}

.mediaList {
  display: grid;
  gap: var(--space-3);
  list-style: none;
  padding: 0;
}

.mediaItem {
  display: grid;
  gap: var(--space-3);
  grid-template-columns: 120px 1fr;
  align-items: center;
}

.mediaPreview {
  width: 120px;
  height: 90px;
  border-radius: var(--radius-sm);
  overflow: hidden;
  border: 1px solid var(--color-border);
  background: rgba(255, 255, 255, 0.04);
}

.mediaPreview img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.mediaInfo {
  display: grid;
  gap: var(--space-2);
}

.mediaName {
  font-weight: 600;
  font-size: var(--fs-sm);
}

.mediaLabel {
  display: grid;
  gap: var(--space-1);
  font-size: var(--fs-xs);
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: var(--color-muted);
}

.mediaLabel input {
  padding: var(--space-2);
  border-radius: var(--radius-sm);
  border: 1px solid var(--color-border);
  background: rgba(255, 255, 255, 0.02);
  color: var(--color-fg);
  font: inherit;
}

.mediaLabel input:focus-visible {
  border-color: var(--color-accent);
}

.blocks {
  display: grid;
  gap: var(--space-3);
}

.blocksHeader {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-3);
}

.blockActions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.blockList {
  display: grid;
  gap: var(--space-3);
}

.block {
  display: grid;
  gap: var(--space-2);
  padding: var(--space-4);
  border-radius: var(--radius-md);
  border: 1px solid var(--color-border);
  background: var(--color-surface);
}

.imageFieldset {
  display: grid;
  gap: var(--space-3);
}

.imageFieldset label {
  display: grid;
  gap: var(--space-1);
  font-size: var(--fs-xs);
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: var(--color-muted);
}

.imageFieldset select,
.imageFieldset input {
  padding: var(--space-3);
  border-radius: var(--radius-sm);
  border: 1px solid var(--color-border);
  background: rgba(255, 255, 255, 0.02);
  color: var(--color-fg);
  font: inherit;
}

.imageFieldset select:focus-visible,
.imageFieldset input:focus-visible {
  border-color: var(--color-accent);
}

.imageWarning {
  font-size: var(--fs-xs);
  color: var(--color-danger);
}

.blockHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-2);
}

.blockActionsInline {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
}

.orderButton {
  background: none;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  padding: 0 var(--space-2);
  height: 28px;
  font-size: var(--fs-xs);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--color-muted);
  cursor: pointer;
  transition:
    border-color var(--transition-base),
    color var(--transition-base),
    transform var(--transition-base);
}

.orderButton:hover:not(:disabled),
.orderButton:focus-visible:not(:disabled) {
  border-color: var(--color-accent);
  color: var(--color-accent);
}

.orderButton:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.blockTag {
  font-size: var(--fs-xs);
  color: var(--color-muted);
  letter-spacing: 0.16em;
  text-transform: uppercase;
}

.removeButton {
  background: none;
  border: none;
  color: var(--color-muted);
  font-size: var(--fs-xs);
  text-transform: uppercase;
  letter-spacing: 0.12em;
  cursor: pointer;
}

.removeButton:hover,
.removeButton:focus-visible {
  color: var(--color-danger);
}

.block textarea,
.block input {
  width: 100%;
  padding: var(--space-3);
  border-radius: var(--radius-sm);
  border: 1px solid var(--color-border);
  background: rgba(255, 255, 255, 0.02);
  color: var(--color-fg);
  font: inherit;
}

.block textarea:focus-visible,
.block input:focus-visible {
  border-color: var(--color-accent);
}

.preview {
  display: grid;
  gap: var(--space-4);
}

.previewHeader p {
  color: var(--color-muted);
}

.assetsInfo {
  font-size: var(--fs-xs);
  color: var(--color-muted);
}

.previewGrid {
  display: grid;
  gap: var(--space-4);
  grid-template-columns: 1.2fr 1fr;
}

.previewVisual {
  padding: var(--space-4);
  border-radius: var(--radius-md);
  border: 1px solid var(--color-border);
  background: rgba(255, 255, 255, 0.02);
}

.previewCode {
  display: grid;
  gap: var(--space-3);
}

.previewCode pre {
  max-height: 220px;
  overflow: auto;
  padding: var(--space-3);
  border-radius: var(--radius-md);
  background: rgba(9, 9, 11, 0.9);
  border: 1px solid var(--color-border);
  font-size: var(--fs-xs);
  font-family: "JetBrains Mono", monospace;
  line-height: 1.4;
}

.previewSurface {
  display: grid;
  gap: var(--space-3);
}

.previewHeading2 {
  font-size: var(--fs-xl);
  line-height: var(--lh-tight);
}

.previewHeading3 {
  font-size: var(--fs-lg);
  line-height: var(--lh-tight);
}

.previewParagraph {
  color: var(--color-fg);
  line-height: var(--lh-normal);
}

.previewFigure {
  display: grid;
  gap: var(--space-2);
}

.previewFigure img {
  width: 100%;
  border-radius: var(--radius-md);
  border: 1px solid var(--color-border);
}

.previewFigure figcaption {
  font-size: var(--fs-xs);
  color: var(--color-muted);
}

.previewHint,
.previewEmpty {
  font-size: var(--fs-sm);
  color: var(--color-muted);
}

.saveArea {
  display: grid;
  gap: var(--space-2);
}

.hint {
  font-size: var(--fs-xs);
  color: var(--color-muted);
}

@media (max-width: var(--bp-md)) {
  .meta {
    padding: var(--space-3);
  }

  .existing,
  .media {
    padding: var(--space-3);
  }

  .block {
    padding: var(--space-3);
  }

  .previewGrid {
    grid-template-columns: 1fr;
  }

  .mediaItem {
    grid-template-columns: 1fr;
  }
}
